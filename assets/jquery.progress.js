$.fn.extend({Progress:function(k){var c={width:90,height:20,percent:0,backgroundColor:"#555",barColor:"#d9534f",fontColor:"#fff",radius:4,fontSize:12,increaseTime:1000/60,increaseSpeed:1,animate:true};$.extend(c,k);var a=$(this),f,b,l,i,g;function e(m){if(!$.isNumeric(m)||m<0){return 0}else{if(m>100){return 100}else{return m}}}var j={getWidth:function(){return c.width*c.percent/100},getPercent:function(m){return parseInt((100*m/c.width).toFixed(2))},animateWidth:function(m,n){g=setTimeout(function(){if(m>n){if(m-c.increaseSpeed<=n){m=n}else{m=m-c.increaseSpeed}}else{if(m<n){if(m+c.increaseSpeed>=n){m=n}else{m=m+c.increaseSpeed}}}b.attr("width",m);i.empty().append(j.getPercent(m)+"%");if(m!=n){j.animateWidth(m,n)}},c.increaseTime)}};function d(m){return document.createElementNS("http://www.w3.org/2000/svg",m)}!!function(){c.percent=e(c.percent);a.attr({width:c.width,height:c.height});f=$(d("rect")).appendTo(a).attr({x:0,rx:c.radius,width:c.width,height:c.height,fill:c.backgroundColor});b=$(d("rect")).appendTo(a).attr({x:0,rx:c.radius,height:c.height,fill:c.barColor});l=$(d("g")).appendTo(a).attr({fill:"#fff","text-anchor":"middle","font-family":"DejaVu Sans,Verdana,Geneva,sans-serif","font-size":c.fontSize});i=$(d("text")).appendTo(l).attr({x:c.width/2,y:c.height/2+c.fontSize/3,fill:c.fontColor});h()}();function h(){var n=j.getWidth();if(c.animate){if(g){clearTimeout(g)}var m=parseFloat(b.attr("width"));if(!m){m=0}j.animateWidth(m,n)}else{b.attr("width",n);i.empty().append(c.percent+"%")}}this.percent=function(m){if(m){m=e(m);c.percent=m;h()}return c.percent};return this}});